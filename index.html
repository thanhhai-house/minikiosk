<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Qu·∫£n l√Ω kho ph·ª• t√πng</title>
  <link rel="stylesheet" href="./styles.css"/>
</head>
<body>
<header class="topbar">
  <div class="brand">
    <img class="truck" src="https://cdn-icons-png.flaticon.com/512/1995/1995470.png" alt="truck"/>
    <div>
      <div class="title">Qu·∫£n l√Ω kho ph·ª• t√πng</div>
      <div class="sub">Kho + C·ª≠a h√†ng ‚Ä¢ Sheets ‚Ä¢ Apps Script ‚Ä¢ GitHub UI</div>
    </div>
  </div>

  <div class="actions">
    <button id="btnDark" title="ƒê·ªïi n·ªÅn">üåô</button>
    <input id="token" placeholder="Nh·∫≠p token (admin/guest)"/>
    <button id="btnLogin">ƒêƒÉng nh·∫≠p</button>
  </div>
</header>

<main class="container">
  <section class="toolbar">
    <div class="left">
      <input id="q" placeholder="T√¨m theo t√™n / OEM / OEM thay th·∫ø..."/>
      <select id="cat"><option value="">T·∫•t c·∫£ lo·∫°i</option></select>
      <select id="brand"><option value="">T·∫•t c·∫£ th∆∞∆°ng hi·ªáu</option></select>
      <label class="chk"><input type="checkbox" id="lowStock"/> S·∫Øp h·∫øt</label>
    </div>

    <div class="right">
      <button id="btnScan">üì∑ Qu√©t QR/OEM</button>
      <button id="btnCart">üß∫ Gi·ªè (<span id="cartCount">0</span>)</button>

      <div class="adminOnly">
        <button id="btnAdd">+ Th√™m</button>
        <button id="btnExport">Xu·∫•t CSV</button>
        <label class="fileBtn">
          Nh·∫≠p CSV
          <input id="csvFile" type="file" accept=".csv"/>
        </label>
      </div>
    </div>
  </section>

  <section id="grid" class="grid"></section>
</main>

<footer class="footer">
  <div class="marquee">
    <span>¬© B·∫£n quy·ªÅn thu·ªôc v·ªÅ c·ª≠a h√†ng ‚Ä¢ Qu·∫£n l√Ω kho ph·ª• t√πng ‚Ä¢ </span>
    <span>¬© B·∫£n quy·ªÅn thu·ªôc v·ªÅ c·ª≠a h√†ng ‚Ä¢ Qu·∫£n l√Ω kho ph·ª• t√πng ‚Ä¢ </span>
  </div>
</footer>

<!-- MODAL: Chi ti·∫øt s·∫£n ph·∫©m -->
<div id="modal" class="modal hidden">
  <div class="modalBox">
    <div class="modalHead">
      <div class="modalTitle" id="mTitle">Chi ti·∫øt s·∫£n ph·∫©m</div>
      <button id="mClose">‚úï</button>
    </div>

    <div class="modalBody">
      <div class="mLeft">
        <img id="mImg" class="mImg" alt="preview"/>

        <div id="album" class="album"></div>

        <div class="adminOnly" style="margin-top:10px">
          <label class="fileBtn">
            Upload ·∫£nh ƒë·∫°i di·ªán
            <input id="imgFile" type="file" accept="image/*"/>
          </label>
        </div>

        <div class="adminOnly" style="margin-top:10px">
          <label class="fileBtn">
            Upload nhi·ªÅu ·∫£nh (album)
            <input id="imgFiles" type="file" accept="image/*" multiple/>
          </label>
        </div>
      </div>

      <div class="mRight">
        <div class="form">
          <div class="row2">
            <label>ID<input id="f_id" disabled/></label>
            <label>Gi√°<input id="f_price" type="number"/></label>
          </div>

          <div class="row2">
            <label>OEM<input id="f_oem"/></label>
            <label>OEM thay th·∫ø<input id="f_oem_alt" placeholder="vd: 123;456"/></label>
          </div>

          <div class="row2">
            <label>T√™n<input id="f_name"/></label>
            <label>Th∆∞∆°ng hi·ªáu<input id="f_brand"/></label>
          </div>

          <div class="row2">
            <label>Lo·∫°i<input id="f_category"/></label>
            <label>‚Äî</label>
          </div>

          <label>Th√¥ng tin s·∫£n ph·∫©m<textarea id="f_desc" rows="4"></textarea></label>

          <div class="stockBox">
            <div><b>Kho:</b> <span id="s_wh">0</span></div>
            <div><b>C·ª≠a h√†ng:</b> <span id="s_st">0</span></div>
          </div>

          <div class="cartAdd">
            <input id="cart_qty" type="number" placeholder="SL" value="1"/>
            <button id="btnAddCart">Th√™m v√†o gi·ªè</button>
          </div>

          <div class="adminOnly stockActions">
            <div class="row3">
              <select id="adj_loc">
                <option value="WAREHOUSE">Kho</option>
                <option value="STORE">C·ª≠a h√†ng</option>
              </select>
              <select id="adj_type">
                <option value="IN">Nh·∫≠p</option>
                <option value="OUT">Xu·∫•t</option>
              </select>
              <input id="adj_qty" type="number" placeholder="S·ªë l∆∞·ª£ng"/>
              <button id="btnAdjust">OK</button>
            </div>

            <div class="row3">
              <select id="mv_from">
                <option value="WAREHOUSE">T·ª´ Kho</option>
                <option value="STORE">T·ª´ C·ª≠a h√†ng</option>
              </select>
              <select id="mv_to">
                <option value="STORE">Sang C·ª≠a h√†ng</option>
                <option value="WAREHOUSE">Sang Kho</option>
              </select>
              <input id="mv_qty" type="number" placeholder="S·ªë l∆∞·ª£ng"/>
              <button id="btnMove">Chuy·ªÉn</button>
            </div>

            <div class="row2" style="margin-top:10px">
              <button id="btnSave" class="primary">L∆∞u</button>
              <button id="btnDelete" class="danger">X√≥a</button>
            </div>
          </div>

          <div class="guestHint guestOnly">
            B·∫°n ƒëang ·ªü ch·∫ø ƒë·ªô <b>kh√°ch</b>: ch·ªâ xem ƒë∆∞·ª£c th√¥ng tin.
          </div>

          <div class="txns">
            <div class="txnsHead">L·ªãch s·ª≠ nh·∫≠p/xu·∫•t g·∫ßn ƒë√¢y</div>
            <div id="txnsList" class="txnsList"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- CART MODAL -->
<div id="cartModal" class="modal hidden">
  <div class="modalBox">
    <div class="modalHead">
      <div class="modalTitle">Gi·ªè h√†ng</div>
      <button id="cartClose">‚úï</button>
    </div>
    <div class="modalBody" style="grid-template-columns:1fr">
      <div id="cartTable"></div>
      <div class="billRow" style="margin-top:10px">
        <select id="cart_loc">
          <option value="STORE">B√°n t·∫°i C·ª≠a h√†ng</option>
          <option value="WAREHOUSE">B√°n t·∫°i Kho</option>
        </select>
        <input id="cart_note" placeholder="Ghi ch√∫ bill"/>
        <button id="btnCheckout" class="primary">T·∫°o bill & In</button>
      </div>
      <div class="hint">T·∫°o bill s·∫Ω t·ª± tr·ª´ t·ªìn + ghi l·ªãch s·ª≠ TXNS + l∆∞u BILLS/BILL_ITEMS.</div>
    </div>
  </div>
</div>

<script src="./app.js"></script>
</body>
</html>
